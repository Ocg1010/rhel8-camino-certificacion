SELINUX TIENE MODO DESHABILITADO MODO PERMISIVO (PARA APLICAR LAS REGLAS DE CONTROL DE ACCESO PERO SIN LAS RESTRICCIONES) Y MODO ENFORCING (ESTA HACIENDO CUMPLIR LAS REGLAS DE ACCESO. NO DEJA PASAR NIGUNA VIOLACION )
VER MODO ACTUAL SELINUX
# getenforce

CAMBIAR EL MODO DE SELINUX SIN REINICIAR (ES UN CAMBIO TEMPORAL ESTO)
# setenforce
# setenforce permissive | 0
# setenforce enforcing | 1

AQUI SE HACE EL CAMBIO PERMANENTEMENTE
# cat /etc/selinux/config

LINEA PARA CONFIGURAR SELINUX EN EL ARRANQUE DEL SISTEMA DESHABILITA EL SISTEMA EN EL INICIO (ES UN CAMBIO TEMPORAL)
# selinux=0
# enforcing=0

TE DICE EN QUE RUN-LEVEL ESTAS EJECUTANDO EL SISTEMA
who -r

2.- CONTROLANDO LOS  CONTEXTOS DE ARCHIVOS
SI MUEVES ARCHIVOS PRESERVA SU CONTEXTO DE ORIGEN, SI LOS COPIAS SE ASIGNA EL CONTEXTO DEL DESTINO, SI LO COPIAS CON "cp -a" PRESERVA EL CONTEXTO DE ORIGEN (COPIANDOLO ES LO MEJOR)

CAMBIAR EL CONTEXTO (ESTO SI ES PERMANENTE)
# restorecon -Rv PATH

CABMIAR CONTEXTO ARCHIVO (ESTE CAMBIO NO ES PERMANENTE )
# chcon --help
# chcon -t httpd_sys_contnet_t /apache2
# ls -ldZ /apache2
CON ESTO CAMBIARIA AL CONTEXTO "default_t" PORQUE NO EXISTE UNA REGLA
# restorecon -v /apache

CREACION DE UNA REGLA

# semanage --help
# semanage fcontex -h
# man -k semanage
# man 8 semanage-fcontext
CONTEXTO DE ARCHIVOS PARA APACHE
# semanage fcontex -a -t httpd_sys_content_t '/apache2(/.*)?'
# restorecon -Rv /apache2
AQUI SE GUARDAN LAS REGLAS (NUNCA SE EDITA MANUALMENTE)
# cat /etc/selinux/targeted/contexts/files/file_contexts.local
PARA ELIMINAR ALGO CON UN ERROR
# semanage fcontext -d -t httpd_sys_content_t '/apache112(/.*)?'
# restorecon -Rv /apache2

BOLEAN
# getsebool -a
# getsebool -a  grep http
# semanage boolean -l 

CAMBIAR BOOLEAN 
# setsebool NAMEBOOLEAN on
semanage boolean -l | grep NAMEBOLEAN

ENCENDERLO PERMANENTEMENTE
setsebool -P abrt_anon_write on 
semanage boolean -l | grep NAMEBOOLEAN

RESOLVIENDO PROBLEMAS DE SELINUX
 
 AQUI ENCONTRAMOS LOS PROBLEMAS CON SELINUX
# less /var/log/audit/audit.log
LO MISMO PERO EL ANALIZA LOS ERORRES3 
# sealert -a /var/log/audit/audit.log

MIRAR LOS MENSAJES PREDETERMINADOS
# cat /var/log/messages


ausearch -m AVC -ts recent 





LOGS DE DATA DOG 

UN PLAY QUE SE CONECTE A LOS SERVIDORES DE DATA DOG Y QUE NOS LOISTE CUALES ESTAN DADOS DE ALTA PARA COMPARAR CON OTRO EXCEL


